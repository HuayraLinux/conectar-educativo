<div class="container">

  <div class="row">
    <h1>Descargas</h1>
  </div>

  <!--
    <div class="row botones">
      <button class='btn btn-success' ng-click='test_descargar()'>Iniciar descarga de prueba</button>
      <button class='btn btn-success' ng-click='test_descargar_rapido()'>Iniciar descarga rápida</button>
    </div>
  -->

  <div class="row">
      <table class="table table-striped table-bordered">
        <thead>
          <tr>
            <th>Titulo</th>
            <th>Descripcion</th>
            <th colspan=2 class='col-acciones'>Acciones</th>
          </tr>
        </thead>
        <tbody>


          <tr ng-show="data.descargas_en_curso.length == 0">
            <td colspan='4' align='center'>No hay descargas en curso aún</td>
          </tr>

          <tr ng-repeat="recurso in data.descargas_en_curso" ng-show="data.descargas_en_curso.length > 0">
            <td>{{recurso.detalle.result.titulo}}</td>
            <td>{{recurso.detalle.result.descripcion}}</td>

            <td class='col-progreso' ng-show="recurso.estado == 'descargando'"><progressbar value="recurso.progreso" class="progress-striped active" type='success'>{{recurso.progreso}}%</progressbar></td>

            <td ng-show="recurso.estado === 'cancelado'">CANCELADO</td>
            <td ng-show="recurso.estado === 'error'">ERROR</td>
            <td ng-show="recurso.estado === 'terminado'">OK</td>

            <td ng-show="recurso.estado === 'descargando'" ng-click='cancelar(recurso)'><button class='btn btn-danger btn-xs'><i class='glyphicon glyphicon-remove'></i></button></td>
            <td ng-show="recurso.estado === 'cancelado'" ng-click='borrar(recurso)'><button class='btn btn-xs'><i class='glyphicon glyphicon-remove'></i></button></td>
            <td ng-show="recurso.estado === 'error'" ng-click='borrar(recurso)'><button class='btn btn-xs'><i class='glyphicon glyphicon-remove'></i></button></td>

            <td class='col-botones' ng-show="recurso.estado === 'terminado'">
              <button class='btn btn-success btn-xs'><i class='glyphicon glyphicon-folder-open'></i></button><button class='btn btn-xs' ng-click='borrar(recurso)'><i class='glyphicon glyphicon-remove'></i></button>
            </td>

          </tr>
        </tbody>
      </table>
  </div>
</div>
